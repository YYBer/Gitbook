{
  "openapi": "3.1.0",
  "info": {
    "title": "backend",
    "description": "",
    "license": {
      "name": ""
    },
    "version": "0.1.0"
  },
  "paths": {
    "/api/v1/all-mids": {
      "get": {
        "operationId": "get_all_mids",
        "responses": {
          "200": {
            "description": "Get all mids",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AllMids"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/candles": {
      "get": {
        "operationId": "get_candles",
        "parameters": [
          {
            "name": "marketIndex",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "startTimestamp",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "endTimestamp",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "interval",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/CandleInterval"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Candle data for the market",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Candle"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/historical-orders": {
      "get": {
        "operationId": "get_historical_orders",
        "parameters": [
          {
            "name": "user",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of historical orders",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Order"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/l2book": {
      "get": {
        "operationId": "get_l2book",
        "parameters": [
          {
            "name": "marketIndex",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "priceStep",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "L2 book",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/L2Book"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/market": {
      "get": {
        "operationId": "get_market",
        "parameters": [
          {
            "name": "marketIndex",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Market info",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Market"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/market-stats": {
      "get": {
        "operationId": "get_market_stats",
        "parameters": [
          {
            "name": "marketIndex",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Market stats",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MarketStats"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/markets": {
      "get": {
        "operationId": "get_markets",
        "responses": {
          "200": {
            "description": "List of markets",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Market"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/open-orders": {
      "get": {
        "operationId": "get_open_orders",
        "parameters": [
          {
            "name": "user",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of open orders",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Order"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/recent-market-trades": {
      "get": {
        "operationId": "get_recent_market_trades",
        "parameters": [
          {
            "name": "marketIndex",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of recent market trades",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Trade"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AllMids": {
        "type": "object",
        "additionalProperties": {
          "type": "string"
        },
        "propertyNames": {
          "type": "string"
        }
      },
      "BookLevel": {
        "type": "object",
        "required": [
          "px",
          "sz"
        ],
        "properties": {
          "px": {
            "type": "string"
          },
          "sz": {
            "type": "string"
          }
        }
      },
      "Candle": {
        "type": "object",
        "required": [
          "market",
          "t",
          "T",
          "o",
          "c",
          "l",
          "h",
          "bv",
          "qv",
          "n"
        ],
        "properties": {
          "T": {
            "type": "integer",
            "format": "int64"
          },
          "bv": {
            "type": "string"
          },
          "c": {
            "type": "string"
          },
          "h": {
            "type": "string"
          },
          "l": {
            "type": "string"
          },
          "market": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "n": {
            "type": "integer",
            "format": "int32"
          },
          "o": {
            "type": "string"
          },
          "qv": {
            "type": "string"
          },
          "t": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "CandleInterval": {
        "type": "string",
        "enum": [
          "1m",
          "3m",
          "5m",
          "15m",
          "30m",
          "1h",
          "2h",
          "4h",
          "8h",
          "12h",
          "1d",
          "3d",
          "1w",
          "1M"
        ],
        "x-enumNames": [
          "Min1",
          "Min3",
          "Min5",
          "Min15",
          "Min30",
          "Hour1",
          "Hour2",
          "Hour4",
          "Hour8",
          "Hour12",
          "Day1",
          "Day3",
          "Week1",
          "Month1"
        ]
      },
      "ErrorResponse": {
        "type": "object",
        "required": [
          "error"
        ],
        "properties": {
          "error": {
            "type": "string"
          }
        }
      },
      "L2Book": {
        "type": "object",
        "required": [
          "market",
          "ps",
          "bids",
          "asks"
        ],
        "properties": {
          "asks": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BookLevel"
            }
          },
          "bids": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BookLevel"
            }
          },
          "market": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "ps": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "Market": {
        "type": "object",
        "required": [
          "market",
          "marketIndex",
          "baseMint",
          "baseDecimals",
          "quoteMint",
          "quoteDecimals",
          "tickSizeInQuoteBaseUnits",
          "lotSizeInBaseBaseUnits"
        ],
        "properties": {
          "baseDecimals": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "baseMint": {
            "type": "string"
          },
          "label": {
            "type": "string"
          },
          "lookupTable": {
            "type": "string"
          },
          "lotSizeInBaseBaseUnits": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "market": {
            "type": "string"
          },
          "marketIndex": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "quoteDecimals": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "quoteMint": {
            "type": "string"
          },
          "tickSizeInQuoteBaseUnits": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "MarketStats": {
        "type": "object",
        "required": [
          "bv24h",
          "qv24h"
        ],
        "properties": {
          "bv24h": {
            "type": "string"
          },
          "px": {
            "type": [
              "string",
              "null"
            ]
          },
          "px24hAgo": {
            "type": [
              "string",
              "null"
            ]
          },
          "qv24h": {
            "type": "string"
          }
        }
      },
      "Order": {
        "type": "object",
        "required": [
          "market",
          "oid",
          "type",
          "px",
          "side",
          "origSz",
          "sz",
          "status",
          "txId",
          "createdAt",
          "updatedAt"
        ],
        "properties": {
          "createdAt": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "market": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "oid": {
            "type": "string"
          },
          "origSz": {
            "type": "string"
          },
          "px": {
            "type": "string"
          },
          "side": {
            "$ref": "#/components/schemas/Side"
          },
          "status": {
            "$ref": "#/components/schemas/OrderStatus"
          },
          "sz": {
            "type": "string"
          },
          "txId": {
            "type": "string"
          },
          "type": {
            "$ref": "#/components/schemas/OrderType"
          },
          "updatedAt": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "OrderStatus": {
        "type": "string",
        "enum": [
          "O",
          "F",
          "C"
        ],
        "x-enumNames": [
          "Open",
          "Filled",
          "Cancelled"
        ]
      },
      "OrderType": {
        "type": "string",
        "enum": [
          "M",
          "L"
        ],
        "x-enumNames": [
          "Market",
          "Limit"
        ]
      },
      "Side": {
        "type": "string",
        "enum": [
          "B",
          "A"
        ],
        "x-enumNames": [
          "Bid",
          "Ask"
        ]
      },
      "Trade": {
        "type": "object",
        "required": [
          "market",
          "px",
          "side",
          "sz",
          "oid",
          "time",
          "txId"
        ],
        "properties": {
          "market": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "oid": {
            "type": "string"
          },
          "px": {
            "type": "string"
          },
          "side": {
            "$ref": "#/components/schemas/Side"
          },
          "sz": {
            "type": "string"
          },
          "time": {
            "type": "integer",
            "format": "int64"
          },
          "txId": {
            "type": "string"
          }
        }
      }
    }
  }
}